<div class="w-full flex justify-content-center flex-wrap">
    <p-card class="w-6 mt-6">
        <div class="w-full flex flex-column align-items-center">
            <img src="assets/fiware-logo.png" class="w-2"/>
            <h2 class="mt-1">IoT Agent UI</h2>
        </div>
        <div [formGroup]="form" class="m-0 flex flex-column gap-2 mt-5">
            
            <small id="endpoint-help">Enter IoT Agent API endpoint</small>
            <div class="w-full flex flex-row">
                <input pInputText [readOnly]="loading" formControlName="endpoint" aria-describedby="endpoint-help" class="w-full"/>
            </div>
            <div *ngIf="form.controls.endpoint.invalid && (form.controls.endpoint.dirty || form.controls.endpoint.touched)" class="form-alert">
                <div *ngIf="form.controls.endpoint.errors?.['required']">Endpoint is required</div>
            </div>

            <small id="apiKey-help">Enter API key</small>
            <div class="w-full flex flex-row">
                <input pInputText [readOnly]="loading" formControlName="apiKey" aria-describedby="apiKey-help" class="w-full"/>
            </div>
            <div *ngIf="form.controls.apiKey.invalid && (form.controls.apiKey.dirty || form.controls.apiKey.touched)" class="form-alert">
                <div *ngIf="form.controls.apiKey.errors?.['required']">API Key is required</div>
            </div>

            <p-button (onClick)="onSubmit()" [disabled]="loading" label="Connect" class="mt-5" icon="pi pi-sign-in" iconPos="right" size="small"></p-button>
        </div>
    </p-card>
</div>

<div class="fixed bottom-0 pb-3 w-full">
    <div class="w-full flex flex-row justify-content-center flex-wrap align-items-center mt-5">
        <a href="https://fiware.org" target="_blank" class="text-xs pr-5">FIWARE <span [innerHtml]="emojis[0]"></span></a>
        <a href="https://eng.it" target="_blank" class="text-xs">Engineering Ingegneria Informatica S.p.a. <span [innerHtml]="emojis[1]"></span></a>
    </div>
</div>
